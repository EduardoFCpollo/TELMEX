<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Clientes | Telmex</title>
  <link href="../bootstrap-5.3.8-dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="../style.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body class="clientes">

  <!-- üî∑ TOPBAR -->
  <div id="topbarContainer"></div>

  <!-- CONTENEDOR GENERAL -->
  <div id="appContainer" class="container-fluid">
    <div class="row">
      <!-- SIDEBAR -->
      <aside class="col-md-2 sidebar d-flex flex-column" id="menuLateral"></aside>

      <!-- MAIN CONTENT -->
      <main class="col-md-10 p-4" id="mainContent">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h2 class="m-0">Gesti√≥n de Clientes</h2>
        </div>

        <div class="row g-3">
          <div class="col-12">
            <div class="card p-3 shadow-sm">
              <div class="d-flex flex-wrap justify-content-between align-items-center mb-3">
                <div class="mb-2 mb-md-0">
                  <h5 class="mb-0">Lista de Clientes</h5>
                  <small class="text-muted">Consulta, edita o elimina registros</small>
                </div>

                <!-- üîç BUSCADOR DE CLIENTES -->
                <div class="input-group w-auto mb-2 mb-md-0">
                  <input type="text" class="form-control" id="buscarCliente" placeholder="Buscar por ID de cliente...">
                  <button class="btn btn-outline-primary" type="button">
                    <i class="bi bi-search"></i>
                  </button>
                </div>

                <button class="btn btn-telmex mb-2 mb-md-0">
                  <i class="bi bi-person-plus me-2"></i>Agregar Cliente
                </button>
              </div>

              <!-- TABLA -->
              <div class="table-responsive">
                <table class="table align-middle">
                  <thead>
                    <tr>
                      <th>ID</th>
                      <th>Nombre</th>
                      <th>Tel√©fono</th>
                      <th>Email</th>
                      <th>Estado</th>
                      <th>Acciones</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>001</td>
                      <td>Juan P√©rez</td>
                      <td>229-123-4567</td>
                      <td>juanperez@example.com</td>
                      <td><span class="badge bg-success">Activo</span></td>
                      <td>
                        <button class="btn btn-sm btn-primary me-1" data-bs-toggle="modal" data-bs-target="#modalEditarCliente"><i class="bi bi-pencil-fill"></i></button>
                        <button class="btn btn-sm btn-danger me-1"><i class="bi bi-trash-fill"></i></button>
                        <button class="btn btn-sm btn-info text-white" data-bs-toggle="modal" data-bs-target="#modalDetallesCliente">
                          <i class="bi bi-file-earmark-text"></i>
                        </button>
                      </td>
                    </tr>
                    <tr>
                      <td>002</td>
                      <td>Mar√≠a L√≥pez</td>
                      <td>229-765-4321</td>
                      <td>marialopez@example.com</td>
                      <td><span class="badge bg-warning text-dark">En riesgo</span></td>
                      <td>
                        <button class="btn btn-sm btn-primary me-1" data-bs-toggle="modal" data-bs-target="#modalEditarCliente"><i class="bi bi-pencil-fill"></i></button>
                        <button class="btn btn-sm btn-danger me-1"><i class="bi bi-trash-fill"></i></button>
                        <button class="btn btn-sm btn-info text-white" data-bs-toggle="modal" data-bs-target="#modalDetallesCliente">
                          <i class="bi bi-file-earmark-text"></i>
                        </button>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>

  <!-- üîπ Modal Detalles del Cliente -->
  <div class="modal fade" id="modalDetallesCliente" tabindex="-1" aria-labelledby="modalDetallesClienteLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-info text-white">
          <h5 class="modal-title" id="modalDetallesClienteLabel">
            <i class="bi bi-person-lines-fill me-2"></i>Detalles del Cliente
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>

        <div class="modal-body">
          <!-- Datos del cliente -->
          <div class="row g-3 mb-4">
            <div class="col-md-6">
              <div class="d-flex align-items-center">
                <i class="bi bi-person-circle text-primary fs-5 me-2"></i>
                <div>
                  <small>Nombre</small>
                  <p class="mb-0 fw-semibold">Juan P√©rez</p>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="d-flex align-items-center">
                <i class="bi bi-geo-alt-fill text-danger fs-5 me-2"></i>
                <div>
                  <small>Direcci√≥n</small>
                  <p class="mb-0 fw-semibold">Calle Reforma #123, Cosamaloapan</p>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="d-flex align-items-center">
                <i class="bi bi-hash text-warning fs-5 me-2"></i>
                <div>
                  <small>N√∫mero de servicio</small>
                  <p class="mb-0 fw-semibold">00012345</p>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="d-flex align-items-center">
                <i class="bi bi-telephone-fill text-success fs-5 me-2"></i>
                <div>
                  <small>Tel√©fono</small>
                  <p class="mb-0 fw-semibold">(229) 123-4567</p>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <div class="d-flex align-items-center">
                <i class="bi bi-wifi text-info fs-5 me-2"></i>
                <div>
                  <small>Tipo de servicio</small>
                  <p class="mb-0 fw-semibold">Internet Hogar</p>
                </div>
              </div>
            </div>
          </div>

          <hr>

          <!-- Casos recientes -->
          <div class="mt-3">
            <h6 class="fw-bold mb-3">
              <i class="bi bi-clipboard2-check me-2 text-primary"></i>Casos recientes
            </h6>
            <div class="table-responsive">
              <table class="table table-bordered align-middle text-center">
                <thead class="table-light">
                  <tr>
                    <th><i class="bi bi-hash me-1"></i>Folio</th>
                    <th><i class="bi bi-chat-left-text me-1"></i>Motivo</th>
                    <th><i class="bi bi-person-badge me-1"></i>Atendido</th>
                    <th><i class="bi bi-calendar-date me-1"></i>Fecha</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>00123</td>
                    <td>Falla en l√≠nea</td>
                    <td>Ana Torres</td>
                    <td>10/10/2025</td>
                  </tr>
                  <tr>
                    <td>00111</td>
                    <td>Problema en factura</td>
                    <td>Jos√© Ram√≠rez</td>
                    <td>05/10/2025</td>
                  </tr>
                  <tr>
                    <td>00098</td>
                    <td>Cambio de plan</td>
                    <td>Mar√≠a L√≥pez</td>
                    <td>01/10/2025</td>
                  </tr>
                </tbody>
              </table>
            </div>

            <div class="text-end mt-3">
              <a href="/elementos/historialCasos.html" class="btn btn-outline-info btn-sm">
                <i class="bi bi-clock-history me-1"></i> Ver registro historial de casos
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- üîπ Modal Editar Cliente -->
  <div class="modal fade" id="modalEditarCliente" tabindex="-1" aria-labelledby="modalEditarClienteLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-primary text-white">
          <h5 class="modal-title" id="modalEditarClienteLabel">
            <i class="bi bi-pencil-square me-2"></i>Editar Cliente
          </h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>

        <div class="modal-body">
          <form id="formEditarCliente">
            <div class="row g-3 mb-3">

              <div class="col-md-6">
                <div class="d-flex align-items-center">
                  <i class="bi bi-person-circle text-primary fs-5 me-2"></i>
                  <div class="flex-grow-1">
                    <label for="editNombre" class="form-label mb-1">Nombre</label>
                    <input type="text" class="form-control" id="editNombre" value="Juan P√©rez">
                  </div>
                </div>
              </div>

              <div class="col-md-6">
                <div class="d-flex align-items-center">
                  <i class="bi bi-geo-alt-fill text-danger fs-5 me-2"></i>
                  <div class="flex-grow-1">
                    <label for="editDireccion" class="form-label mb-1">Direcci√≥n</label>
                    <input type="text" class="form-control" id="editDireccion" value="Calle Reforma #123, Cosamaloapan">
                  </div>
                </div>
              </div>

              <div class="col-md-6">
                <div class="d-flex align-items-center">
                  <i class="bi bi-hash text-warning fs-5 me-2"></i>
                  <div class="flex-grow-1">
                    <label for="editNumeroServicio" class="form-label mb-1">N√∫mero de servicio</label>
                    <input type="text" class="form-control" id="editNumeroServicio" value="00012345">
                  </div>
                </div>
              </div>

              <div class="col-md-6">
                <div class="d-flex align-items-center">
                  <i class="bi bi-telephone-fill text-success fs-5 me-2"></i>
                  <div class="flex-grow-1">
                    <label for="editTelefono" class="form-label mb-1">Tel√©fono</label>
                    <input type="text" class="form-control" id="editTelefono" value="(229) 123-4567">
                  </div>
                </div>
              </div>

              <div class="col-md-6">
                <div class="d-flex align-items-center">
                  <i class="bi bi-wifi text-info fs-5 me-2"></i>
                  <div class="flex-grow-1">
                    <label for="editTipoServicio" class="form-label mb-1">Tipo de servicio</label>
                    <input type="text" class="form-control" id="editTipoServicio" value="Internet Hogar">
                  </div>
                </div>
              </div>

              <!-- Nivel de riesgo -->
              <div class="col-md-6 d-flex align-items-center">
                <div class="flex-grow-1 mt-3">
                  <label for="editNivelRiesgo" class="form-label mb-1">Nivel de riesgo</label>
                  <select class="form-select" id="editNivelRiesgo">
                    <option value="bajo" class="bg-success text-white">Bajo</option>
                    <option value="medio" class="bg-warning text-dark">Medio</option>
                    <option value="alto" class="bg-danger text-white">Alto</option>
                  </select>
                </div>
              </div>

            </div>

            <div class="text-end">
              <button type="button" class="btn btn-secondary me-2" data-bs-dismiss="modal">Cancelar</button>
              <button type="submit" class="btn btn-primary">Guardar cambios</button>
            </div>
          </form>
        </div>

      </div>
    </div>
  </div>

  <!-- Bootstrap y scripts -->
  <script src="../bootstrap-5.3.8-dist/js/bootstrap.bundle.min.js"></script>

  <!-- üî∑ Cargar men√∫ lateral -->
  <script>
    fetch('menu-lateral.html')
      .then(resp => resp.text())
      .then(data => {
        document.getElementById('menuLateral').innerHTML = data;
      })
      .catch(err => console.error('Error cargando men√∫ lateral:', err));
  </script>

  <!-- üî∑ Cargar topbar -->
  <script>
    fetch('topbar.html')
      .then(resp => resp.text())
      .then(data => {
        document.getElementById('topbarContainer').innerHTML = data;
        const topbarHeight = document.getElementById('mainNav').offsetHeight;
        document.getElementById('appContainer').style.paddingTop = topbarHeight + 'px';
      })
      .catch(err => console.error('Error cargando topbar:', err));
  </script>

  <script src="../javascrip.js"></script>

  <!-- Script para cambiar color del select seg√∫n opci√≥n -->
  <script>
    const nivelRiesgoSelect = document.getElementById('editNivelRiesgo');

    function actualizarColorSelect() {
      const valor = nivelRiesgoSelect.value;
      nivelRiesgoSelect.classList.remove('bg-success', 'bg-warning', 'bg-danger', 'text-white', 'text-dark');

      if (valor === 'bajo') {
        nivelRiesgoSelect.classList.add('bg-success', 'text-white');
      } else if (valor === 'medio') {
        nivelRiesgoSelect.classList.add('bg-warning', 'text-dark');
      } else if (valor === 'alto') {
        nivelRiesgoSelect.classList.add('bg-danger', 'text-white');
      }
    }

    // Inicializar color al abrir modal
    document.getElementById('modalEditarCliente').addEventListener('show.bs.modal', actualizarColorSelect);

    // Cambiar color al seleccionar
    nivelRiesgoSelect.addEventListener('change', actualizarColorSelect);
  </script>

</body>
</html>
